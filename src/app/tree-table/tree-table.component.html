<!--<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
  <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
    <ng-container *ngTemplateOutlet="row; context: { $implicit: node }"></ng-container>
  </mat-tree-node>

  <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
    <div class="mat-tree-node">
      <button mat-icon-button matTreeNodeToggle
              [attr.aria-label]="'toggle ' + node.filename">
        <mat-icon class="mat-icon-rtl-mirror">
          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
        </mat-icon>
      </button>
      <ng-container *ngTemplateOutlet="row; context: { $implicit: node }"></ng-container>
    </div>
    <div *ngIf="treeControl.isExpanded(node)" class="tree-level">
      <ng-container matTreeNodeOutlet></ng-container>
    </div>
  </mat-nested-tree-node>
</mat-tree>
-->
<table mat-table [dataSource]="dataSource">
  <ng-container matColumnDef="title" sticky>
    <th mat-header-cell *matHeaderCellDef class="title-cell" [attr.colspan]="2">Sammlung</th>
    <td mat-cell *matCellDef="let element"
        class="mat-cell-level-{{element.level}}"
        [attr.colspan]="2">{{element.title}}</td>
  </ng-container>

  <ng-container [matColumnDef]="column.id" *ngFor="let column of columns">
    <th mat-header-cell *matHeaderCellDef [attr.colspan]="2">
      {{column.label}}
    </th>
    <td mat-cell *matCellDef="let element">{{element.data[column.id]}}</td>
  </ng-container>

  <ng-container [matColumnDef]="column" *ngFor="let column of getColumnIdsSplitted()">
    <th mat-header-cell *matHeaderCellDef>
      <ng-container *ngIf="!column.startsWith('title')">
        {{ column.endsWith('search') ? 'Suche' : 'Sammlung' }}
      </ng-container>
    </th>
    <td mat-cell *matCellDef="let element"
        [hidden]="column === 'title_collection'"
        [attr.colspan]="column.startsWith('title') ? 2 : 1"
    >
      <ng-container *ngIf="column === 'title_search'">
        {{element.title}}
      </ng-container>
      <div *ngIf="!column.startsWith('title_')" class="number">
        {{element.data
        [column.includes('_search') ? 'search' : 'collection']
        [column.replace(SEARCH_POSTFIX, '').replace(COLLECTION_POSTFIX, '')]
        }}
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="getColumnIds(); sticky: true"></tr>
  <tr mat-header-row *matHeaderRowDef="getColumnIdsSplitted(); sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: getColumnIdsSplitted();"></tr>
</table>

<ng-template #row let-node>
  <div class="row" role="row">
    <div
      class="cell"
      role="gridcell"
      *ngFor="let column of columns; let index = index"
      [ngSwitch]="column"
    >
      <!--       [style.margin-left]="index === 1 ? '-' + treeControl.getLevel(node) * 40 + 'px' : null" -->
      <ng-container *ngSwitchDefault>
        {{ node.data[column.id] }}
      </ng-container>
    </div>
  </div>
</ng-template>

<ng-template #column_title></ng-template>
<ng-template #column_count_total_resources></ng-template>
